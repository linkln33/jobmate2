# Unified Adaptive AI Assistant Component Diagram

```
┌─────────────────────────────────────────────────────────────────────────┐
│                                                                         │
│                         Frontend Components                             │
│                                                                         │
│  ┌───────────────────┐      ┌──────────────────────────────────────┐    │
│  │                   │      │                                      │    │
│  │  AssistantContext ◄──────┤ useAssistantMode                     │    │
│  │  Provider         │      │ (Route-based mode detection)         │    │
│  │                   │      │                                      │    │
│  └─────────┬─────────┘      └──────────────────────────────────────┘    │
│            │                                                            │
│            ▼                                                            │
│  ┌─────────────────────────────────────────────────────────────────┐    │
│  │                                                                 │    │
│  │                      AIAdaptivePanel                            │    │
│  │                                                                 │    │
│  │   ┌─────────────────┐    ┌─────────────────┐    ┌────────────┐  │    │
│  │   │                 │    │                 │    │            │  │    │
│  │   │  ModeSelector   │    │ SuggestionCard  │    │ Settings   │  │    │
│  │   │                 │    │                 │    │ Controls   │  │    │
│  │   └─────────────────┘    └─────────────────┘    └────────────┘  │    │
│  │                                                                 │    │
│  └─────────────────────────────────────────────────────────────────┘    │
│                                                                         │
└───────────────────────────────┬─────────────────────────────────────────┘
                                │
                                │ API Calls
                                │
┌───────────────────────────────▼─────────────────────────────────────────┐
│                                                                         │
│                           API Routes                                    │
│                                                                         │
│  ┌────────────────────┐  ┌────────────────────┐  ┌───────────────────┐  │
│  │                    │  │                    │  │                   │  │
│  │ /api/assistant/    │  │ /api/assistant/    │  │ /api/assistant/   │  │
│  │ preferences        │  │ suggestions        │  │ memory            │  │
│  │                    │  │                    │  │                   │  │
│  └──────────┬─────────┘  └──────────┬─────────┘  └─────────┬─────────┘  │
│             │                       │                      │            │
└─────────────┼───────────────────────┼──────────────────────┼────────────┘
              │                       │                      │
┌─────────────┼───────────────────────┼──────────────────────┼────────────┐
│             │                       │                      │            │
│             ▼                       ▼                      ▼            │
│  ┌────────────────────────────────────────────────────────────────┐     │
│  │                                                                │     │
│  │                     Suggestion Engine                          │     │
│  │                                                                │     │
│  │  ┌─────────────────────────────────────────────────────────┐   │     │
│  │  │                                                         │   │     │
│  │  │  Mode-specific Suggestion Generators:                   │   │     │
│  │  │  - Matching                                            │   │     │
│  │  │  - Project Setup                                       │   │     │
│  │  │  - Profile                                             │   │     │
│  │  │  - Payments                                            │   │     │
│  │  │  - Marketplace                                         │   │     │
│  │  │  - General                                             │   │     │
│  │  │                                                         │   │     │
│  │  └─────────────────────────────────────────────────────────┘   │     │
│  │                                                                │     │
│  └────────────────────────────────┬───────────────────────────────┘     │
│                                   │                                     │
│                                   ▼                                     │
│  ┌────────────────────────────────────────────────────────────────┐     │
│  │                                                                │     │
│  │                    Integration Services                        │     │
│  │                                                                │     │
│  │  ┌────────────────┐  ┌────────────────┐  ┌────────────────┐    │     │
│  │  │                │  │                │  │                │    │     │
│  │  │ Matching       │  │ User Profile   │  │ Payment        │    │     │
│  │  │ Service        │  │ Service        │  │ Service        │    │     │
│  │  │                │  │                │  │                │    │     │
│  │  └────────────────┘  └────────────────┘  └────────────────┘    │     │
│  │                                                                │     │
│  └────────────────────────────────┬───────────────────────────────┘     │
│                                   │                                     │
│                                   ▼                                     │
│  ┌────────────────────────────────────────────────────────────────┐     │
│  │                                                                │     │
│  │                      Database (Prisma)                         │     │
│  │                                                                │     │
│  │  ┌────────────────┐  ┌────────────────┐  ┌────────────────┐    │     │
│  │  │                │  │                │  │                │    │     │
│  │  │ Assistant      │  │ Assistant      │  │ Assistant      │    │     │
│  │  │ Preference     │  │ Suggestion     │  │ MemoryLog      │    │     │
│  │  │                │  │                │  │                │    │     │
│  │  └────────────────┘  └────────────────┘  └────────────────┘    │     │
│  │                                                                │     │
│  │  ┌────────────────┐  ┌────────────────┐  ┌────────────────┐    │     │
│  │  │                │  │                │  │                │    │     │
│  │  │ User           │  │ Job            │  │ Other          │    │     │
│  │  │                │  │                │  │ Models         │    │     │
│  │  └────────────────┘  └────────────────┘  └────────────────┘    │     │
│  │                                                                │     │
│  └────────────────────────────────────────────────────────────────┘     │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

## Data Flow Diagram

```
┌──────────────┐         ┌───────────────┐         ┌────────────────┐
│              │         │               │         │                │
│  User        │ ──────► │  Next.js      │ ──────► │  AssistantContext │
│  Interaction │         │  Router       │         │  Provider      │
│              │         │               │         │                │
└──────────────┘         └───────────────┘         └────────┬───────┘
                                                           │
                                                           ▼
┌──────────────┐         ┌───────────────┐         ┌────────────────┐
│              │         │               │         │                │
│  Suggestion  │ ◄────── │  API          │ ◄────── │  AIAdaptivePanel │
│  Engine      │         │  Routes       │         │                │
│              │         │               │         │                │
└──────┬───────┘         └───────────────┘         └────────────────┘
       │
       ▼
┌──────────────┐         ┌───────────────┐
│              │         │               │
│  Database    │ ◄────── │  Integration  │
│  (Prisma)    │         │  Services     │
│              │         │               │
└──────────────┘         └───────────────┘
```

## State Management Flow

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│                    AssistantContext                         │
│                                                             │
│  ┌─────────────────────┐        ┌────────────────────────┐  │
│  │                     │        │                        │  │
│  │  State:             │        │  Actions:              │  │
│  │  - isEnabled        │        │  - openPanel           │  │
│  │  - currentMode      │        │  - closePanel          │  │
│  │  - proactivityLevel │        │  - togglePanel         │  │
│  │  - isPanelOpen      │        │  - setMode             │  │
│  │  - suggestions      │        │  - detectModeFromPath  │  │
│  │  - preferences      │        │  - toggleEnabled       │  │
│  │  - currentPath      │        │  - setProactivityLevel │  │
│  │  - currentContext   │        │  - dismissSuggestion   │  │
│  │  - isLoading        │        │  - fetchPreferences    │  │
│  │  - error            │        │  - fetchSuggestions    │  │
│  │                     │        │  - logInteraction      │  │
│  └─────────────────────┘        └────────────────────────┘  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│                   Consumer Components                       │
│                                                             │
│  ┌─────────────────────┐        ┌────────────────────────┐  │
│  │                     │        │                        │  │
│  │  AIAdaptivePanel    │        │  useAssistantMode      │  │
│  │                     │        │  Hook                  │  │
│  └─────────────────────┘        └────────────────────────┘  │
│                                                             │
│  ┌─────────────────────┐        ┌────────────────────────┐  │
│  │                     │        │                        │  │
│  │  ModeSelector       │        │  Other Components      │  │
│  │                     │        │                        │  │
│  └─────────────────────┘        └────────────────────────┘  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```
